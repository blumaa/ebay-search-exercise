(this["webpackJsonpebay-search-exercise"]=this["webpackJsonpebay-search-exercise"]||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(5),r=s.n(a),i=s(4),l=s.n(i),o=s(6),u=s(2),d=s(0),h=function(e){var t=e.setSearch,s=n.a.useState(""),c=Object(u.a)(s,2),a=c[0],r=c[1];return Object(d.jsxs)("div",{className:"SearchBar",children:[Object(d.jsx)("input",{type:"text",name:"search",onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("input",{type:"submit",value:"Search Ebay",onClick:function(){t(a)}})]})},j=function(e){return Object(d.jsxs)("div",{className:"SearchResultslist__entry",children:[Object(d.jsx)("div",{children:e.entry.title[0]}),Object(d.jsx)("div",{})]},e.entry.itemId[0])},b=function(e){var t=e.searchResults,s=e.isLoading;return Object(d.jsxs)("div",{className:"SearchResultslist",children:[Object(d.jsxs)("div",{className:"SearchResultslist__header",children:[Object(d.jsx)("div",{children:"Item Name"}),Object(d.jsx)("div",{children:"Item Price"})]}),Object(d.jsx)("div",{className:"SearchResultslist__list",children:!s&&t.map((function(e){return Object(d.jsx)(j,{entry:e})}))})]})},O=function(){var e=n.a.useState(!0),t=Object(u.a)(e,2),s=t[0],c=t[1],a=n.a.useState(null),r=Object(u.a)(a,2),i=r[0],j=r[1],O=n.a.useState(!1),y=Object(u.a)(O,2),f=y[0],m=y[1],p=n.a.useState(null),x=Object(u.a)(p,2),v=(x[0],x[1]),S="https://cors-anywhere.herokuapp.com/https://svcs.sandbox.ebay.com/services/search/FindingService/v1?OPERATION-NAME=findItemsByKeywords&SERVICE-VERSION=1.0.0&SECURITY-APPNAME=WandoInt-217b-42d8-a699-e79808dd505e&keywords=".concat(i,"&RESPONSE-DATA-FORMAT=JSON");function R(){return(R=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(S);case 3:e.sent.json().then((function(e){console.log("response",e.findItemsByKeywordsResponse[0]),m(e.findItemsByKeywordsResponse[0].searchResult[0].item),e.findItemsByKeywordsResponse[0].searchResult[0].item.length>0?c(!1):v("couldn't find anything")})).catch((function(e){return v(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.useEffect((function(){console.log("serching",i),function(){R.apply(this,arguments)}()}),[i]),Object(d.jsxs)("div",{className:"Gallery",children:[Object(d.jsx)("div",{className:"Gallery__title",children:"Ebay Search Exercise"}),Object(d.jsx)(h,{setSearch:j}),s?"loading":Object(d.jsx)(b,{searchResults:f,isLoading:s})]})};s(13);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7b24590d.chunk.js.map